#Virtual Network: 	net4
#Subnet:		snet4

#{resourceGroupName}
#{virtualNetworkName}
#{subnetName}
#{publicIpAddressName}
#{networkInterfaceName}
#{vmName}

#need existing net and vnet for NIC
#need to assign NIC for VM

#1. Create Resource Group

#Request URL:
#https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourcegroups/lab4?api-version=2021-04-01

#Request Preview:
#PUT https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourcegroups/lab4?api-version=2021-04-01
#Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE2OTk5NjQxNDYsIm5iZiI6MTY5OTk2NDE0NiwiZXhwIjoxNjk5OTY5NDMxLCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBOVBvdWZOSFV4eDBtWU5nTzZqcFhlNnQwN0ZRL3U1MEFmNms4OTVLQU9WM1pSWWdJTFpIa2prZ1V6Z2c1SmJXNDJzYytjNFQ2eGdrUmZ5RnhhTFJTV3hrQUI2VkpUdmYyN3lNZnFEWmxQK3M9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiRmVnYW4iLCJnaXZlbl9uYW1lIjoiRGFuaWVsIiwiZ3JvdXBzIjpbIjgxMDhjNTAzLWQ2NTYtNDJjZi04ZWU0LTg5NDRhZWYwZmFkZSIsIjk3YWY4MTJkLTk2ZTktNGYwMS04YTExLTc1ODAzMzc2MjE3YSIsIjg3ZjYwMDNkLTk0NzAtNDM4Zi1iZmVmLTgxM2IzN2ZjMmI2OCIsIjNlODQ4MDk4LWI0YTEtNDE3ZC1hMWJhLWM5Y2YzZmNlOWY1MSIsIjgzOGEyODlhLTg0YTQtNGNhOC1hZWVjLWIzMWVjMWQ3MWQ0YSIsIjRkYzAzYjlmLTFiNmMtNDQxNS1hYzA1LTgyNDI3MTNjNzUyMCIsIjVhZDdkNmI0LWFkYWYtNGI5ZC05NTdmLTBmM2I2MTRiZWU2MCIsIjhhYzE1NGRkLWQ0NWYtNGM0Ni05NGU1LWJiNzhmZWZhM2FlZiIsIjhjODE4NmVhLTQyYTQtNDRhZi04YTc4LWFlOTE0MDExZTZiNCIsImQyYTZhOGVmLTRkMjYtNGQ5NS1iZDExLWFhMWVjNjE5ZjgxOCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OC4xOS42Ny4yNDAiLCJuYW1lIjoiRDE4MTI0NzMzIERhbmllbCBGZWdhbiIsIm9pZCI6ImU2NmZjZjdkLTZlMjMtNDIxNy1iZTUxLTJjNzhhOGJiMzIzOSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS00MDIyOTg4NDktMTczNDcwNTEzMS0zMTIwMDI0MDAxLTUwMDE4IiwicHVpZCI6IjEwMDMyMDAwNTg2OEE0NjkiLCJyaCI6IjAuQVRFQXl4ZGpka2pwWDA2TTdOcThqaV9WMmtaSWYza0F1dGRQdWtQYXdmajJNQk14QUxRLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Iml0ZEJKcHB0THNYUFhHejQyUEJ5dVllQVB5dzlMU1ctaDQzY28zT1lBZnciLCJ0aWQiOiI3NjYzMTdjYi1lOTQ4LTRlNWYtOGNlYy1kYWJjOGUyZmQ1ZGEiLCJ1bmlxdWVfbmFtZSI6IkQxODEyNDczM0BteXR1ZHVibGluLmllIiwidXBuIjoiRDE4MTI0NzMzQG15dHVkdWJsaW4uaWUiLCJ1dGkiOiJuMmJRSXg4dEtVeW8tblh1VlhhREFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NhZSI6IjEiLCJ4bXNfdGNkdCI6MTUyNTMzODk0MX0.x-J6QUvPujH1w1kwpiU8ifCY8EBmfYT6KxJhlIQtivTzFnJ6MoccZNQEmBjTo9S4oiDKaAaM24L-vq3hqYJJjsD5uZ-Ybu-toocDRXRq4A5atWarjnUKDVR1bXpVzuZhuT3N6p59dVj-e-yLfQtsiQzXSyqajfQoL6zwEteoCgkuDDytRgx2h38BUQqkkXI_qTX6ptuJGgplvZqbpi8NPe9SKj6lExZBdRfXmID-muK-sKp5rfVwhVva6OtbZBpNomJO_hSy1qV8XbeyJUHenXD2FFUoK_lsXDfLUI_McnvjXfhb9kbicjfuUV9VIPfsSoX5GdKYm0o8XXk1gglaKw
#Content-type: application/json

#Body:

{
	location: "westeurope"
}

#2. Create Virtual Network

#Request URL:
#https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/virtualNetworks/net4?api-version=2023-05-01

#Request Preview:
#PUT https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/virtualNetworks/net4?api-version=2023-05-01
#Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE2OTk5NjQ3ODQsIm5iZiI6MTY5OTk2NDc4NCwiZXhwIjoxNjk5OTcwMTYyLCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBQzY0aXo4cm0zL05oNnR5TWgyeU5mZVRkWnRBQ0NZeDhFTXlObTFxbGdFUmVabE40Q0drYXp1a096WG5Qb3RzVmlmZ0JKRmUvNmdSMm1qTXpUOFZuV0ZNS05LVll0VHlDUnhJUnBFTFB6cUk9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiRmVnYW4iLCJnaXZlbl9uYW1lIjoiRGFuaWVsIiwiZ3JvdXBzIjpbIjgxMDhjNTAzLWQ2NTYtNDJjZi04ZWU0LTg5NDRhZWYwZmFkZSIsIjk3YWY4MTJkLTk2ZTktNGYwMS04YTExLTc1ODAzMzc2MjE3YSIsIjg3ZjYwMDNkLTk0NzAtNDM4Zi1iZmVmLTgxM2IzN2ZjMmI2OCIsIjNlODQ4MDk4LWI0YTEtNDE3ZC1hMWJhLWM5Y2YzZmNlOWY1MSIsIjgzOGEyODlhLTg0YTQtNGNhOC1hZWVjLWIzMWVjMWQ3MWQ0YSIsIjRkYzAzYjlmLTFiNmMtNDQxNS1hYzA1LTgyNDI3MTNjNzUyMCIsIjVhZDdkNmI0LWFkYWYtNGI5ZC05NTdmLTBmM2I2MTRiZWU2MCIsIjhhYzE1NGRkLWQ0NWYtNGM0Ni05NGU1LWJiNzhmZWZhM2FlZiIsIjhjODE4NmVhLTQyYTQtNDRhZi04YTc4LWFlOTE0MDExZTZiNCIsImQyYTZhOGVmLTRkMjYtNGQ5NS1iZDExLWFhMWVjNjE5ZjgxOCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OC4xOS42Ny4yNDAiLCJuYW1lIjoiRDE4MTI0NzMzIERhbmllbCBGZWdhbiIsIm9pZCI6ImU2NmZjZjdkLTZlMjMtNDIxNy1iZTUxLTJjNzhhOGJiMzIzOSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS00MDIyOTg4NDktMTczNDcwNTEzMS0zMTIwMDI0MDAxLTUwMDE4IiwicHVpZCI6IjEwMDMyMDAwNTg2OEE0NjkiLCJyaCI6IjAuQVRFQXl4ZGpka2pwWDA2TTdOcThqaV9WMmtaSWYza0F1dGRQdWtQYXdmajJNQk14QUxRLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Iml0ZEJKcHB0THNYUFhHejQyUEJ5dVllQVB5dzlMU1ctaDQzY28zT1lBZnciLCJ0aWQiOiI3NjYzMTdjYi1lOTQ4LTRlNWYtOGNlYy1kYWJjOGUyZmQ1ZGEiLCJ1bmlxdWVfbmFtZSI6IkQxODEyNDczM0BteXR1ZHVibGluLmllIiwidXBuIjoiRDE4MTI0NzMzQG15dHVkdWJsaW4uaWUiLCJ1dGkiOiI0TVdyenRkYVhrR3BSU3ZQeVoxbkFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NhZSI6IjEiLCJ4bXNfdGNkdCI6MTUyNTMzODk0MX0.OUkc1-NMMKNRpjyE7v0lr9bsbIoBEBC7QsaotweRUJ6ylFp0v0Fl_OCvNLomd4adzGJeee5ab8KHuUAIfhuB1XJK4xGI2nTBbSJc8XHtne3AvfwH0-NMndHuRawCuWFEVGrXRxUlt7BBcsHjWBAFVmVLnQUszxaU_EFvywsfuGgWw4BFm4WEZzairC-jAAbKPHdizIKC4w5WK_M6G-9Xw1OVatH7rSM-anWQ5wjzTRyFCqGbaHEvNtP7Omh6i22TV3BBjnC0P5RPzswvlZiab_l02Vg5jRgTK77by7vl-_QzybbSuegBNfDWinQ5gVwYSmoAWIhiX-mZSzEwfVGs8g
#Content-type: application/json

#Body:

{
  "properties": {
    "addressSpace": {
      "addressPrefixes": [
        "10.0.0.0/16"
      ]
    },
    "flowTimeoutInMinutes": 10
  },
  "location": "westeurope"
}

#3. Create Subnet

#Request URL: 
#https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/virtualNetworks/net4/subnets/snet4?api-version=2023-05-01

#Request Preview:
#PUT https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/virtualNetworks/net4/subnets/snet4?api-version=2023-05-01
#Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE2OTk5NjUzOTgsIm5iZiI6MTY5OTk2NTM5OCwiZXhwIjoxNjk5OTcwNzE1LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBNW80RWxQQ2NxYXZnQzUxcS82VXptcHFkQ2Y3ZzJuRFpPalYwR3E2dEFQZ1Zlc21sRDdFWWw5L3NPR0ZYRnUwYTVuRTJhbE01bVByVHFveTluNzZGTXpzYkVLVGttRlJ3bG5NYkpOQ2JsbE09IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiRmVnYW4iLCJnaXZlbl9uYW1lIjoiRGFuaWVsIiwiZ3JvdXBzIjpbIjgxMDhjNTAzLWQ2NTYtNDJjZi04ZWU0LTg5NDRhZWYwZmFkZSIsIjk3YWY4MTJkLTk2ZTktNGYwMS04YTExLTc1ODAzMzc2MjE3YSIsIjg3ZjYwMDNkLTk0NzAtNDM4Zi1iZmVmLTgxM2IzN2ZjMmI2OCIsIjNlODQ4MDk4LWI0YTEtNDE3ZC1hMWJhLWM5Y2YzZmNlOWY1MSIsIjgzOGEyODlhLTg0YTQtNGNhOC1hZWVjLWIzMWVjMWQ3MWQ0YSIsIjRkYzAzYjlmLTFiNmMtNDQxNS1hYzA1LTgyNDI3MTNjNzUyMCIsIjVhZDdkNmI0LWFkYWYtNGI5ZC05NTdmLTBmM2I2MTRiZWU2MCIsIjhhYzE1NGRkLWQ0NWYtNGM0Ni05NGU1LWJiNzhmZWZhM2FlZiIsIjhjODE4NmVhLTQyYTQtNDRhZi04YTc4LWFlOTE0MDExZTZiNCIsImQyYTZhOGVmLTRkMjYtNGQ5NS1iZDExLWFhMWVjNjE5ZjgxOCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OC4xOS42Ny4yNDAiLCJuYW1lIjoiRDE4MTI0NzMzIERhbmllbCBGZWdhbiIsIm9pZCI6ImU2NmZjZjdkLTZlMjMtNDIxNy1iZTUxLTJjNzhhOGJiMzIzOSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS00MDIyOTg4NDktMTczNDcwNTEzMS0zMTIwMDI0MDAxLTUwMDE4IiwicHVpZCI6IjEwMDMyMDAwNTg2OEE0NjkiLCJyaCI6IjAuQVRFQXl4ZGpka2pwWDA2TTdOcThqaV9WMmtaSWYza0F1dGRQdWtQYXdmajJNQk14QUxRLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Iml0ZEJKcHB0THNYUFhHejQyUEJ5dVllQVB5dzlMU1ctaDQzY28zT1lBZnciLCJ0aWQiOiI3NjYzMTdjYi1lOTQ4LTRlNWYtOGNlYy1kYWJjOGUyZmQ1ZGEiLCJ1bmlxdWVfbmFtZSI6IkQxODEyNDczM0BteXR1ZHVibGluLmllIiwidXBuIjoiRDE4MTI0NzMzQG15dHVkdWJsaW4uaWUiLCJ1dGkiOiJKNkNyQXFsbFBrQzEwa3NqNGY2SEFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NhZSI6IjEiLCJ4bXNfdGNkdCI6MTUyNTMzODk0MX0.kBOVURUz7DCs8s4ZmEBfFqzqAgr8Sp9201qBkjD9dHRtt8P8QtEIBr4U0gGBz9vh5Ow0KzkvfV2LvTKKP2SramsFPGettsJJKwFi9F5EIZAXFflrwK32zRDBiZrQyGmBN2S_dutH1j3EzYCPD80tA6TwvCiT9Hy-owCfUQMlaI-Xut4Ih3-o7G8rFBTRgn5P1V1t4JaaEZcxjweb9urVWYrxZzPZlokKFSsO9BgyodH84qYvtSLboy2CeDWfzZf_pub9tJwBJ3DWBtPgbXcBPUE56QdUhn3TcYzsCMoUEwQAd8wWG1mGCDGGXJhSlx0tPrDCA-yg4PBiKOtB4QcUcA
#Content-type: application/json

#Body:

{
  "properties": {
    "addressPrefix": "10.0.0.0/16"
  }
}

#4. Create Public IP Address defaults

#Request URL
#https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/publicIPAddresses/ip4?api-version=2023-05-01

#Request Preview:
#PUT https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/publicIPAddresses/ip4?api-version=2023-05-01
#Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE2OTk5NjM3NzUsIm5iZiI6MTY5OTk2Mzc3NSwiZXhwIjoxNjk5OTY5MjAwLCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBQ0lsNWpwWVQ0OVZnQlpJNTFaLzM1VjB3NE00SEI1N2h1b2MyOXEyejFwZFIxbFVWV290MkMzcGtGVFFyeXlFZVlKM3AwWERlS1FhSUNhNUY4YngwZ0RRZW1sMzB0WStjdndGOHNGT2ZlZ1U9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiRmVnYW4iLCJnaXZlbl9uYW1lIjoiRGFuaWVsIiwiZ3JvdXBzIjpbIjgxMDhjNTAzLWQ2NTYtNDJjZi04ZWU0LTg5NDRhZWYwZmFkZSIsIjk3YWY4MTJkLTk2ZTktNGYwMS04YTExLTc1ODAzMzc2MjE3YSIsIjg3ZjYwMDNkLTk0NzAtNDM4Zi1iZmVmLTgxM2IzN2ZjMmI2OCIsIjNlODQ4MDk4LWI0YTEtNDE3ZC1hMWJhLWM5Y2YzZmNlOWY1MSIsIjgzOGEyODlhLTg0YTQtNGNhOC1hZWVjLWIzMWVjMWQ3MWQ0YSIsIjRkYzAzYjlmLTFiNmMtNDQxNS1hYzA1LTgyNDI3MTNjNzUyMCIsIjVhZDdkNmI0LWFkYWYtNGI5ZC05NTdmLTBmM2I2MTRiZWU2MCIsIjhhYzE1NGRkLWQ0NWYtNGM0Ni05NGU1LWJiNzhmZWZhM2FlZiIsIjhjODE4NmVhLTQyYTQtNDRhZi04YTc4LWFlOTE0MDExZTZiNCIsImQyYTZhOGVmLTRkMjYtNGQ5NS1iZDExLWFhMWVjNjE5ZjgxOCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OC4xOS42Ny4yNDAiLCJuYW1lIjoiRDE4MTI0NzMzIERhbmllbCBGZWdhbiIsIm9pZCI6ImU2NmZjZjdkLTZlMjMtNDIxNy1iZTUxLTJjNzhhOGJiMzIzOSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS00MDIyOTg4NDktMTczNDcwNTEzMS0zMTIwMDI0MDAxLTUwMDE4IiwicHVpZCI6IjEwMDMyMDAwNTg2OEE0NjkiLCJyaCI6IjAuQVRFQXl4ZGpka2pwWDA2TTdOcThqaV9WMmtaSWYza0F1dGRQdWtQYXdmajJNQk14QUxRLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Iml0ZEJKcHB0THNYUFhHejQyUEJ5dVllQVB5dzlMU1ctaDQzY28zT1lBZnciLCJ0aWQiOiI3NjYzMTdjYi1lOTQ4LTRlNWYtOGNlYy1kYWJjOGUyZmQ1ZGEiLCJ1bmlxdWVfbmFtZSI6IkQxODEyNDczM0BteXR1ZHVibGluLmllIiwidXBuIjoiRDE4MTI0NzMzQG15dHVkdWJsaW4uaWUiLCJ1dGkiOiJqbWREdmpoX0UwMmt4YmZMbjBVekFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NhZSI6IjEiLCJ4bXNfdGNkdCI6MTUyNTMzODk0MX0.E0G_vENy9ivCzK_UAZorGm96ilmfYCiJ0eH6po2d3O4eIRWaGkoVo_Va5oNBOrlfNI9UAF64R3-lleUjvHVP99u-TN_JV3IxSUNOuFuRmibr25bTZRPJoQiQNiN3G9vhcOVsRzsCdvzS516OoXca4O5zqtkJfrRhzFEPH3rXJy7wl2uhNE_G54qoJKvyCPuUOVnclIwbIrMEduSVIjNQjcVwGj0rEcrXfFemt7J4bFbuuMqm46gulerS5ELg_E8TNg2x4FI-zXnY_DboKeGo469POOlbuWT38NS5X5FnteJ5SIedJKvVebD8k8k6jIDuy595qoURw6m1t56Se1z2oQ
#Content-type: application/json

#Body:

{
  "location": "westeurope"
}

5. #Create Network Interface

#Request URL:
#https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/networkInterfaces/nic4?api-version=2023-05-01

#Request Preview
PUT https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Network/networkInterfaces/nic4?api-version=2023-05-01
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE2OTk5Njg5MDcsIm5iZiI6MTY5OTk2ODkwNywiZXhwIjoxNjk5OTczOTI2LCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBMzdtZWZ5RkRKMHNFVHRJSDcwYTEvOXJVeW1JMHZOS2MwZHVZVGJFR1ZsZWxwWGkxbTZidWVVRzgrS3hNYU51YjRTZGVPMU84Z291ems2RnBVR1ZHdkJtQ1laVWpxVHhRekt6VmRlNlFYVUU9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiRmVnYW4iLCJnaXZlbl9uYW1lIjoiRGFuaWVsIiwiZ3JvdXBzIjpbIjgxMDhjNTAzLWQ2NTYtNDJjZi04ZWU0LTg5NDRhZWYwZmFkZSIsIjk3YWY4MTJkLTk2ZTktNGYwMS04YTExLTc1ODAzMzc2MjE3YSIsIjg3ZjYwMDNkLTk0NzAtNDM4Zi1iZmVmLTgxM2IzN2ZjMmI2OCIsIjNlODQ4MDk4LWI0YTEtNDE3ZC1hMWJhLWM5Y2YzZmNlOWY1MSIsIjgzOGEyODlhLTg0YTQtNGNhOC1hZWVjLWIzMWVjMWQ3MWQ0YSIsIjRkYzAzYjlmLTFiNmMtNDQxNS1hYzA1LTgyNDI3MTNjNzUyMCIsIjVhZDdkNmI0LWFkYWYtNGI5ZC05NTdmLTBmM2I2MTRiZWU2MCIsIjhhYzE1NGRkLWQ0NWYtNGM0Ni05NGU1LWJiNzhmZWZhM2FlZiIsIjhjODE4NmVhLTQyYTQtNDRhZi04YTc4LWFlOTE0MDExZTZiNCIsImQyYTZhOGVmLTRkMjYtNGQ5NS1iZDExLWFhMWVjNjE5ZjgxOCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OC4xOS42Ny4yNDAiLCJuYW1lIjoiRDE4MTI0NzMzIERhbmllbCBGZWdhbiIsIm9pZCI6ImU2NmZjZjdkLTZlMjMtNDIxNy1iZTUxLTJjNzhhOGJiMzIzOSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS00MDIyOTg4NDktMTczNDcwNTEzMS0zMTIwMDI0MDAxLTUwMDE4IiwicHVpZCI6IjEwMDMyMDAwNTg2OEE0NjkiLCJyaCI6IjAuQVRFQXl4ZGpka2pwWDA2TTdOcThqaV9WMmtaSWYza0F1dGRQdWtQYXdmajJNQk14QUxRLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Iml0ZEJKcHB0THNYUFhHejQyUEJ5dVllQVB5dzlMU1ctaDQzY28zT1lBZnciLCJ0aWQiOiI3NjYzMTdjYi1lOTQ4LTRlNWYtOGNlYy1kYWJjOGUyZmQ1ZGEiLCJ1bmlxdWVfbmFtZSI6IkQxODEyNDczM0BteXR1ZHVibGluLmllIiwidXBuIjoiRDE4MTI0NzMzQG15dHVkdWJsaW4uaWUiLCJ1dGkiOiJ4X25vdVdrOWVVYVVDZG1xUXlSNkFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NhZSI6IjEiLCJ4bXNfdGNkdCI6MTUyNTMzODk0MX0.xn_vURqxgKiK664ijtdDYYGdrkaDwr6Ul_n6HMM-v7VXihdwwDqsxRP6xDpGvGCjJtPX15oT6ZKChWSwdZ99aUX1lEB1KOHu2QJNAAXP2d9pUZMQKGUrhSpmX6qP39WHDOspPNNeOoU3kwKJepu44DXVZUook49qv4LPCZieA0_ttqYqsEq3yJDX4uEO-KSDCTfy8v5BScfTPzNAVbGrTaiE-EgDDnXYWTFB4XnlyTAWA40-UXknQin6odPyq91JCzjf6esbRD82JFbUosZFQpzMonqzuVRVGwnSxt6UWnODS_F_Br4bf66Go4GpnLZOSFSi4JM34dGqVOL-SfRTFQ
Content-type: application/json

#Body: 

{
  "properties": {
    "ipConfigurations": [
      {
        "name": "ipconfig1",
        "properties": {
          "publicIPAddress": {
            "id": "/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/ providers/Microsoft.Network/publicIPAddresses/ip4"
          },
          "subnet": {
            "id": "/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/ providers/Microsoft.Network/virtualNetworks/net4/subnets/snet4"
          }
        }
      }
    ]
  },
  "location": "westeurope"
}

6. #Create Virtual Machine

#Request URL: 
#https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Compute/virtualMachines/vm4?api-version=2023-07-01

#Request Preview:
#PUT https://management.azure.com/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/providers/Microsoft.Compute/virtualMachines/vm4?api-version=2023-07-01
#Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSIsImtpZCI6IjlHbW55RlBraGMzaE91UjIybXZTdmduTG83WSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldCIsImlzcyI6Imh0dHBzOi8vc3RzLndpbmRvd3MubmV0Lzc2NjMxN2NiLWU5NDgtNGU1Zi04Y2VjLWRhYmM4ZTJmZDVkYS8iLCJpYXQiOjE2OTk5NzM1NTMsIm5iZiI6MTY5OTk3MzU1MywiZXhwIjoxNjk5OTc4MjIzLCJhY3IiOiIxIiwiYWlvIjoiQVZRQXEvOFZBQUFBZG5pUWZNeXFsR1BhM20rLzF5L3h1RTJKVDlQNy8wMVFDMEJRcngyR1BrT0dORXliK1Y5S3ZWVjE4dk0xUHF1TzVCQStGS25qckE3VXBrWmUvVmZieWFDclNMTDAvSnVoRm1XeStoSFhYbU09IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBpZCI6IjE4ZmJjYTE2LTIyMjQtNDVmNi04NWIwLWY3YmYyYjM5YjNmMyIsImFwcGlkYWNyIjoiMCIsImZhbWlseV9uYW1lIjoiRmVnYW4iLCJnaXZlbl9uYW1lIjoiRGFuaWVsIiwiZ3JvdXBzIjpbIjgxMDhjNTAzLWQ2NTYtNDJjZi04ZWU0LTg5NDRhZWYwZmFkZSIsIjk3YWY4MTJkLTk2ZTktNGYwMS04YTExLTc1ODAzMzc2MjE3YSIsIjg3ZjYwMDNkLTk0NzAtNDM4Zi1iZmVmLTgxM2IzN2ZjMmI2OCIsIjNlODQ4MDk4LWI0YTEtNDE3ZC1hMWJhLWM5Y2YzZmNlOWY1MSIsIjgzOGEyODlhLTg0YTQtNGNhOC1hZWVjLWIzMWVjMWQ3MWQ0YSIsIjRkYzAzYjlmLTFiNmMtNDQxNS1hYzA1LTgyNDI3MTNjNzUyMCIsIjVhZDdkNmI0LWFkYWYtNGI5ZC05NTdmLTBmM2I2MTRiZWU2MCIsIjhhYzE1NGRkLWQ0NWYtNGM0Ni05NGU1LWJiNzhmZWZhM2FlZiIsIjhjODE4NmVhLTQyYTQtNDRhZi04YTc4LWFlOTE0MDExZTZiNCIsImQyYTZhOGVmLTRkMjYtNGQ5NS1iZDExLWFhMWVjNjE5ZjgxOCJdLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3OC4xOS42Ny4yNDAiLCJuYW1lIjoiRDE4MTI0NzMzIERhbmllbCBGZWdhbiIsIm9pZCI6ImU2NmZjZjdkLTZlMjMtNDIxNy1iZTUxLTJjNzhhOGJiMzIzOSIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS00MDIyOTg4NDktMTczNDcwNTEzMS0zMTIwMDI0MDAxLTUwMDE4IiwicHVpZCI6IjEwMDMyMDAwNTg2OEE0NjkiLCJyaCI6IjAuQVRFQXl4ZGpka2pwWDA2TTdOcThqaV9WMmtaSWYza0F1dGRQdWtQYXdmajJNQk14QUxRLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6Iml0ZEJKcHB0THNYUFhHejQyUEJ5dVllQVB5dzlMU1ctaDQzY28zT1lBZnciLCJ0aWQiOiI3NjYzMTdjYi1lOTQ4LTRlNWYtOGNlYy1kYWJjOGUyZmQ1ZGEiLCJ1bmlxdWVfbmFtZSI6IkQxODEyNDczM0BteXR1ZHVibGluLmllIiwidXBuIjoiRDE4MTI0NzMzQG15dHVkdWJsaW4uaWUiLCJ1dGkiOiJBVWlER2hPMTVFYVRBZXVxVTI5dEFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NhZSI6IjEiLCJ4bXNfdGNkdCI6MTUyNTMzODk0MX0.fyShE7eYwlGNofkuU9pGSTRec-hceM6MBC-yD-_tYSVHUL4nS_oexqBychlme-1iIsBsDpx-qYKOGQFCPgng-IpuS9XpqJM86yvs-YozEUh42e8gQCwkP9bPG2zIi-nM7GQ9UewrUItaktVZeqVoQWm7b2j_q6doXMjiwphUC_lTmxOdEhoiogUbXF41tqdgJpaJGPvi6qZtrATFXAeyZSnmclBRGDNtwo6Gr-RfVMm7tIORRjY4DHx4U3OLQK72pQ72s71jqsw51FgqIV0KvAaw1tbZutUJxB4RrvlaWByWjBHVi-i6I-edvbKvVQHjKE1jbXKPao7l6PO3NMSppg
#Content-type: application/json

#Body: 

{
  "id": "/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/ providers/Microsoft.Compute/virtualMachines/vm4",
  "type": "Microsoft.Compute/virtualMachines",
  "properties": {
    "osProfile": {
      "adminUsername": "dfega",
      "secrets": [
        
      ],
      "computerName": "vm4",
      "linuxConfiguration": {
        "ssh": {
          "publicKeys": [
            {
              "path": "/home/dfega/.ssh/authorized_keys",
              "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCjnpoaHDCBk/a5KzyRfgMH8f+qE4QX3Eww/fUeC+y3kD7ooWVIWu1UZXtdHgT2+WrNmAT2nWuVfmnSt0sPsJfZJnIHn0rFsf/BtTi7qEp/5hsCu9C8zMyIALgVF/cOjCKMNKIUTmU4V38jviMpuxHhUc4SxuSGAEckq0mB052COUhKgT9dMIZ9kYmQuDK0nJX2VT9vcVrWIiC7x/1FLl4AlP6Z9qPd6RE9FDZiCS+rXHYZa82NgtnqPZuVjcndoxhALnOJIkNYDsvKKux6CS32uxMMjw4UHDZriKinKMLGxnLLTObSN3aP5vRW8vm9xqv/Fl3q/dlmWSaKyKnalZb1XwsvcjNMuksYIVHXo4PWCJnF+FEDsA4E5eC5/gBJD6YfcX39+UXWlMrXM9baXXyLBY2TccNH0QkpRPkVeQjgsuYOV35OoLOAiT6hYhVH3Bt88LpTmEnnSMJuKJ4P+LHwo1Rnr4ITY5vc2hfWccV/X9S51w1BF2ThH+zp00yWER0= dfega@HPLaptop"
            }
          ]
        },
        "disablePasswordAuthentication": true
      }
    },
    "networkProfile": {
      "networkInterfaces": [
        {
          "id": "/subscriptions/4e79b837-6117-4a59-abe0-505edb64e15d/resourceGroups/lab4/ providers/Microsoft.Network/networkInterfaces/nic4",
          "properties": {
            "primary": true
          }
        }
      ]
    },
    "storageProfile": {
      "imageReference": {
        "sku": "16.04-LTS",
        "publisher": "Canonical",
        "version": "latest",
        "offer": "UbuntuServer"
      },
      "dataDisks": [
        
      ]
    },
    "hardwareProfile": {
      "vmSize": "Standard_D1_v2"
    },
    "provisioningState": "Creating"
  },
  "name": "vm4",
  "location": "westeurope"
}